# run npx decap-server
local_backend: true

backend:
  name: git-gateway
  branch: netlify # Branch to update
  squash_merges: true

# only works with remote backend
publish_mode: editorial_workflow

locale: "vi"

media_library:
  name: cloudinary
  config:
    cloud_name: dxtb6rv7y
    api_key: 897111389275384

media_folder: public/img
public_folder: img
collections:
  - name: "pages"
    label: "Trang"
    files:
      - name: "congregation-introduction"
        label: "Giới thiệu hội dòng"
        file: "content/pages/congregation/introduction.md"
        fields:
          - name: "aboutUs"
            label: "Mục chúng tôi là ai"
            widget: object
            fields:
              - name: "banner"
                label: "Banner giới thiệu hội dòng"
                widget: image
                required: false
                allow_multiple: false
              - name: "title"
                label: "Tiêu đề"
                widget: "string"
              - name: "body"
                label: "Nội dung"
                widget: "markdown"
              - name: tabs
                label: "Các tab giới thiệu"
                widget: "list"
                fields:
                  - { name: "title", label: "Tiêu đề", widget: "string" }
                  - { name: "body", label: "Nội dung", widget: "markdown" }
              - name: videos
                label: "Video giới thiệu"
                widget: "object"
                fields:
                  - { name: "title", label: "Tiêu đề", widget: "string" }
                  - name: "videos"
                    label: "Video giới thiệu"
                    widget: "list"
                    fields:
                      - { name: "title", label: "Tiêu đề video", widget: "string" }
                      - { name: "thumbnail", label: "Hình thu nhỏ", widget: "image", allow_multiple: false }
                      - { name: "youtubeUrl", label: "Link youtube", widget: "string" }
          - name: "mission"
            label: "Mục sứ mệnh của hội dòng"
            widget: object
            fields:
              - name: "banner"
                label: "Banner sứ mệnh của hội dòng"
                widget: image
                required: false
                allow_multiple: false
              - name: "title"
                label: "Tiêu đề"
                widget: "string"
              - name: "body"
                label: "Nội dung"
                widget: "markdown"
              - name: tabs
                label: "Các tab sứ mệnh"
                widget: "list"
                fields:
                  - { name: "title", label: "Tiêu đề", widget: "string" }
                  - { name: "body", label: "Nội dung", widget: "markdown" }
              - name: videos
                label: "Video hoạt động sứ mệnh"
                widget: "object"
                fields:
                  - name: "title"
                    label: "Tiêu đề"
                    widget: "string"
                    required: false
                  - name: "videos"
                    label: "Các videos"
                    widget: "list"
                    fields:
                      - { name: "title", label: "Tiêu đề video", widget: "string" }
                      - { name: "thumbnail", label: "Hình thu nhỏ", widget: "image", allow_multiple: false }
                      - { name: "youtubeUrl", label: "Link youtube", widget: "string" }
          - name: "whereabouts"
            label: "Mục nơi chúng tôi hiện diện"
            widget: object
            fields:
              - name: "banner"
                label: "Banner nơi chúng tôi hiện diện"
                widget: image
                required: false
                allow_multiple: false
              - name: title
                label: "Tiêu đề"
                widget: "string"
              - name: "body"
                label: "Nội dung"
                widget: "markdown"
              - name: "countries"
                label: "Các nước hiện diện"
                widget: "list"
                allow_add: true
                fields:
                  - { name: "name", label: "Tên nước", widget: "string" }
                  - {
                      name: "body",
                      label: "Nội dung",
                      widget: "markdown",
                    }
      - name: "contact"
        label: "Liên hệ"
        file: "content/pages/contact.md"
        fields:
          - name: "body"
            label: "Thân trang"
            widget: markdown
  - name: "settings"
    label: "Cài đặt"
    editor:
      preview: false
    files:
      - name: "site"
        label: "Cài đặt website"
        file: "content/settings/site.md"
        fields:
          - name: "logo"
            label: "Logo"
            widget: "image"
            allow_multiple: false
      - name: "home"
        label: "Trang chủ"
        file: "content/settings/home.md"
        fields:
          - { name: "hidden", label: "Ẩn", widget: "boolean", default: false }
      - name: "congregation"
        label: "Hội dòng"
        file: "content/settings/congregration.md"
        fields:
          - { name: "hidden", label: "Ẩn", widget: "boolean", default: false }
      - name: "spirituality"
        label: "Linh đạo"
        file: "content/settings/spirituality.md"
        fields:
          - { name: "hidden", label: "Ẩn", widget: "boolean", default: false }
      - name: "missions"
        label: "Sứ vụ"
        file: "content/settings/missions.md"
        fields:
          - { name: "hidden", label: "Ẩn", widget: "boolean", default: false }
      - name: "prayer"
        label: "Cầu nguyện"
        file: "content/settings/prayer.md"
        fields:
          - { name: "hidden", label: "Ẩn", widget: "boolean", default: false }
      - name: "vocation"
        label: "Ơn gọi"
        file: "content/settings/invocation.md"
        fields:
          - { name: "hidden", label: "Ẩn", widget: "boolean", default: false }
      - name: "news"
        label: "Bản tin"
        file: "content/settings/news.md"
        fields:
          - { name: "hidden", label: "Ẩn", widget: "boolean", default: false }
      - name: "special-topics"
        label: "Chuyên đề"
        file: "content/settings/special-topics.md"
        fields:
          - { name: "hidden", label: "Ẩn", widget: "boolean", default: false }
      - name: "footer"
        label: "Chân trang"
        file: "content/settings/footer.md"
        fields:
          - {
              name: "name",
              label: "Tên",
              widget: "string",
              default: "HỘI DÒNG NỮ ĐA MINH GÒ VẤP",
            }
          - { name: "address", label: "Địa chỉ", widget: "string" }
          - { name: "email", label: "Email", widget: "string" }
          - { name: "phone", label: "Điện thoại", widget: "string" }
          - { name: "facebook", label: "Facebook", widget: "string" }
          - { name: "youtube", label: "Youtube", widget: "string" }
          - { name: "zalo", label: "Zalo", widget: "string" }
  - name: posts
    label: "Bài viết"
    create: true
    preview_path: posts/{{year}}/{{month}}/{{title}}
    folder: "content/posts"
    fields:
      - { name: title, label: Tiêu đề }
      - { name: date, label: Date, widget: datetime }
      - { name: videoPost, label: "Bài viết video", widget: boolean }
      - { name: body, label: Body, widget: markdown }
# This collection requires `path_preview_date_field` because
